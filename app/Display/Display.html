<p>HANDLE multiple hours:
    will have to pull things in that started time-length hours ago
    add some sort of (continued) flag since they will be in separate boxes</p>

<!-- Course Key -->
<div class="row">
    <div ng-repeat="course in courses" class="col s2" ng-click="course.active=!course.active">
        <div ng-if="course.active" class="{{course.colour}} lighten-2">
            {{course.name}}
        </div>
        <div ng-if="!course.active" class="{{course.colour}} lighten-5">
            {{course.name}}
        </div>
    </div>
</div>

<div class="row">
    <input type="checkbox" ng-model="preview_mode" id="preview_mode" ng-disabled="!selections_complete()"/>
    <label for="preview_mode">Preview Mode (Display only selected options)</label>
</div>
<!-- Calendar -->
<table class="striped">
    <thead>
    <tr>
        <th>
            <!--Empty header column for the left side time scale-->
        </th>
        <th ng-repeat="day in day_range">
            {{day}}
        </th>
    </tr>
    </thead>
    <tr ng-repeat="i in time_range">
        <th>
            {{i}}
        </th>
        <td ng-repeat="day in day_range">

            <div ng-repeat="bundle in bundles | filter: {opt: {day: day, time: i}}">
                <div ng-if="bundle.course.active && bundle.opt.selected" class="{{bundle.course.colour}} lighten-2"
                     ng-click="toggle_active(bundle)">
                    {{bundle.course.name}} {{bundle.clss.name}} ({{bundle.opt.id}})
                </div>

                <div ng-if="!preview_mode && bundle.course.active && !bundle.opt.selected" class="{{bundle.course.colour}} lighten-5"
                     ng-click="toggle_active(bundle)">
                    {{bundle.course.name}} {{bundle.clss.name}} ({{bundle.opt.id}})
                </div>
            </div>

            <div ng-repeat="bundle in cont_bundles | filter: {opt: {day: day, time: i}}">
                <div ng-if="bundle.course.active && bundle.parent.selected" class="{{bundle.course.colour}} lighten-2"
                     ng-click="toggle_active(bundle)">
                    {{bundle.course.name}} {{bundle.clss.name}} ({{bundle.parent.id}} continued)
                </div>

                <div ng-if="!preview_mode && bundle.course.active && !bundle.parent.selected" class="{{bundle.course.colour}} lighten-5"
                     ng-click="toggle_active(bundle)">
                    {{bundle.course.name}} {{bundle.clss.name}} ({{bundle.parent.id}} continued)
                </div>
            </div>
        </td>
    </tr>
</table>